# Agent Config Requirements
#
# Documents which core-config.yaml sections each agent needs,
# enabling lazy loading optimization (Story 6.1.2.6).
#
# Generated from: .aios-core/scripts/audit-agent-config.js
# Last Updated: 2025-01-16

# Config Loading Strategy
strategy:
  always_loaded:
    - frameworkDocsLocation      # Lightweight, needed by all
    - projectDocsLocation        # Lightweight, needed by all
    - devLoadAlwaysFiles         # File paths, small
    - lazyLoading                # Config for this system

  lazy_loadable:
    - pvMindContext              # 75KB - Only for hybrid-ops agents
    - expansionPacks             # 20KB - Only when pack requested
    - registry                   # 15KB - Only for meta operations
    - toolConfigurations         # 10KB - Only for tool-using agents
    - hybridOpsConfig            # 25KB - Only for hybrid-ops agents

# Agent-Specific Requirements
agents:
  # Development Team
  dev:
    name: Dex
    title: Full Stack Developer
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # git, coderabbit, context7, browser
      - pvMindContext            # When using supabase/n8n
      - hybridOpsConfig          # When using supabase/n8n
    savings: 33.3 KB (23.0%)
    load_priority: high          # Used frequently

  qa:
    name: Quinn
    title: QA Engineer
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # coderabbit, browser
    savings: ~130 KB (estimated)
    load_priority: high

  # Product Team
  po:
    name: Pax
    title: Product Owner
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # clickup, github
    savings: 133.3 KB (91.9%)
    load_priority: medium

  pm:
    name: Morgan
    title: Product Manager
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy: []                     # No heavy sections needed
    savings: 143.3 KB (98.8%)
    load_priority: low

  sm:
    name: River
    title: Scrum Master
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # project management tools
    savings: 133.3 KB (91.9%)
    load_priority: medium

  # Architecture & Engineering
  architect:
    name: Aria
    title: Architect
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # diagramming, documentation tools
    savings: 133.3 KB (91.9%)
    load_priority: medium

  analyst:
    name: Sage
    title: Business Analyst
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # data analysis tools
    savings: 133.3 KB (91.9%)
    load_priority: low

  data-engineer:
    name: Data Engineer
    title: Data Engineer
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # database, ETL tools
      - pvMindContext            # When using supabase
      - hybridOpsConfig          # When using data pipelines
    savings: 133.3 KB (91.9%)
    load_priority: medium

  devops:
    name: Gage
    title: DevOps Engineer
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # CI/CD, deployment tools
    savings: 133.3 KB (91.9%)
    load_priority: high

  # Meta & Orchestration
  aios-master:
    name: AIOS Master
    title: AI Orchestrator
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - registry                 # Agent registry for orchestration
      - expansionPacks           # When managing expansion packs
      - toolConfigurations       # All tools available
    savings: ~100 KB (estimated)
    load_priority: critical      # Master orchestrator

  # Future Agents (not yet implemented)
  ux-expert:
    name: UX Expert
    title: UX/UI Specialist
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # design tools
    savings: ~130 KB (estimated)
    load_priority: low

  db-sage:
    name: DB Sage
    title: Database Architect
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # database tools
      - pvMindContext            # When using supabase
      - hybridOpsConfig          # When using database operations
    savings: ~50 KB (estimated)
    load_priority: medium

  security:
    name: Security Expert
    title: Security Engineer
    always:
      - frameworkDocsLocation
      - projectDocsLocation
      - devLoadAlwaysFiles
      - lazyLoading
    lazy:
      - toolConfigurations       # security scanning tools
    savings: ~130 KB (estimated)
    load_priority: high

# Loading Rules
loading_rules:
  # When to load heavy sections
  pvMindContext:
    trigger: "agent.dependencies.tools includes 'supabase' or 'n8n'"
    size: 75 KB
    agents: [dev, data-engineer, db-sage]

  expansionPacks:
    trigger: "agent.dependencies.expansion_packs exists"
    size: 20 KB
    agents: [aios-master]

  registry:
    trigger: "agentId === 'aios-master' or meta operation requested"
    size: 15 KB
    agents: [aios-master]

  toolConfigurations:
    trigger: "agent.dependencies.tools.length > 0"
    size: 10 KB
    agents: [dev, qa, po, sm, architect, analyst, data-engineer, devops, ux-expert, security]

  hybridOpsConfig:
    trigger: "agent uses supabase or n8n"
    size: 25 KB
    agents: [dev, data-engineer, db-sage]

# Performance Targets
performance:
  baseline:
    average_config_size: 145 KB
    average_load_time: 250 ms

  with_lazy_loading:
    average_config_size: 23 KB      # 84.2% reduction
    average_load_time: 45 ms        # 82% improvement
    target_improvement: 18%          # EXCEEDED by 64%

  by_priority:
    critical:
      target_load_time: 30 ms       # aios-master
      agents: [aios-master]

    high:
      target_load_time: 50 ms       # dev, qa, devops
      agents: [dev, qa, devops, security]

    medium:
      target_load_time: 75 ms       # po, sm, architect, data-engineer, db-sage
      agents: [po, sm, architect, data-engineer, db-sage]

    low:
      target_load_time: 100 ms      # pm, analyst, ux-expert
      agents: [pm, analyst, ux-expert]

# Implementation Notes
implementation:
  config_loader:
    location: .aios-core/utils/config-loader.js
    features:
      - Lazy loading based on agent requirements
      - Caching with 5-minute TTL
      - Performance tracking
      - Graceful degradation on errors

  usage:
    basic: |
      const { loadAgentConfig } = require('.aios-core/utils/config-loader');

      // Automatically loads only what agent needs
      const config = await loadAgentConfig('dev');

    selective: |
      const { loadConfigSections } = require('.aios-core/utils/config-loader');

      // Load specific sections on demand
      const pvContext = await loadConfigSections(['pvMindContext']);

  migration:
    phase_1: "Day 4-5: Implement lazy loading (Story 6.1.2.6)"
    phase_2: "Day 6: Add caching and performance tracking"
    phase_3: "Q2 2026: Repository split preparation"

# Validation
validation:
  audit_command: "node .aios-core/scripts/audit-agent-config.js"
  expected_savings: "84.2% average reduction (exceeds 18% target)"
  last_audit: "2025-01-16T13:49:03Z"
  agents_audited: 8
  agents_total: 13

---
# AIOS Framework Config Requirements
# Version: 1.0.0
# Story: 6.1.2.6
# Last Updated: 2025-01-16
